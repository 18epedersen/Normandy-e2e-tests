[tox]
envlist = py346,flake8
skipsdist = true

[testenv]
skip_install = true
deps = -rrequirements/requirements.txt
commands = pytest \
    --driver Firefox \
    --html {envname}.html \
    tests/ \
    {posargs}


[testenv:new_recipe]
skip_install = true
deps = -rrequirements/requirements.txt
commands = pytest \
    --driver Firefox \
    --html {envname}.html \
    tests/test_1_new_recipe.py -s


[testenv:create_new_recipe]
skip_install = true
deps = -rrequirements/requirements.txt
commands = pytest \
    --driver Firefox \
    --html {envname}.html \
    tests/test_2_create_new_recipe.py -s

[testenv:approve_recipe]
skip_install = true
deps = -rrequirements/requirements.txt
commands = pytest \
    --driver Firefox \
    --html {envname}.html \
    tests/test_3_request_approval_recipe.py -s


[testenv:edit_recipe]
skip_install = true
deps = -rrequirements/requirements.txt
commands = pytest \
    --driver Firefox \
    --html {envname}.html \
    tests/test_4_edit_recipe.py -s




[testenv:flake8]
skip_install = true
deps = flake8
commands = flake8


[testenv:clean]
whitelist_externals=bash
commands=
    bash -c "rm -Rf *.tar.gz"
    bash -c "rm -Rf *__pycache__"
    bash -c "rm -Rf *.pyc"
    bash -c "rm -Rf .tox"

[pytest]
timeout = 120
